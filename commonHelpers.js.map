{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPhotos(query) {\n  const API_KEY = '44385883-198adbd7f849b7ff14e77c80c';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const options = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}?${options}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n\n    return res.json();\n  });\n}\n","export function createMarkup(array) {\n  return array\n    .map(\n      elem => `    <li class=\"photo-card\">\n    \n    <a class=\"img-link\" href=\"${elem.largeImageURL}\">\n    <img class=\"img-card\"\n      src=\"${elem.webformatURL}\"\n      alt=\"${elem.tags}\"\n\n    /></a>\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes ${elem.likes}</b>\n      </p>\n      <p class=\"info-item\"><b>Views ${elem.views}</b></p>\n      <p class=\"info-item\"><b>Comments ${elem.comments}</b></p>\n      <p class=\"info-item\"><b>Downloads ${elem.downloads}</b></p>\n    </div>\n  </li>\n `\n    )\n    .join('');\n}\n","import { getPhotos } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst form = document.querySelector('form');\nconst galleryList = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  galleryList.innerHTML = '';\n\n  loader.classList.remove('is-hidden');\n\n  const searchQuery = e.target.elements.search.value.trim();\n\n  if (searchQuery === '') {\n    loader.classList.add('is-hidden');\n    return;\n  }\n  getPhotos(searchQuery)\n    .then(res => {\n      if (res.hits.length === 0) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      galleryList.innerHTML = createMarkup(res.hits);\n      lightbox.refresh();\n    })\n    .catch(error =>\n      iziToast.error({\n        position: 'topLeft',\n        message: 'Error. Please try again!!',\n      })\n    )\n    .finally(() => loader.classList.add('is-hidden'));\n}\n"],"names":["getPhotos","query","API_KEY","BASE_URL","options","res","createMarkup","array","elem","lightbox","SimpleLightbox","form","galleryList","loader","onSubmit","e","searchQuery","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CAC/B,MAAMC,EAAU,qCACVC,EAAW,2BACXC,EAAU,IAAI,gBAAgB,CAClC,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGE,CAAQ,IAAIC,CAAO,EAAE,EAAE,KAAKC,GAAO,CACjD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG5B,OAAOA,EAAI,MACf,CAAG,CACH,CCjBO,SAASC,EAAaC,EAAO,CAClC,OAAOA,EACJ,IACCC,GAAQ;AAAA;AAAA,gCAEkBA,EAAK,aAAa;AAAA;AAAA,aAErCA,EAAK,YAAY;AAAA,aACjBA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,mBAKHA,EAAK,KAAK;AAAA;AAAA,sCAESA,EAAK,KAAK;AAAA,yCACPA,EAAK,QAAQ;AAAA,0CACZA,EAAK,SAAS;AAAA;AAAA;AAAA,EAInD,EACA,KAAK,EAAE,CACZ,CChBA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAQ,EAExC,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAEhBH,EAAY,UAAY,GAExBC,EAAO,UAAU,OAAO,WAAW,EAEnC,MAAMG,EAAcD,EAAE,OAAO,SAAS,OAAO,MAAM,OAEnD,GAAIC,IAAgB,GAAI,CACtBH,EAAO,UAAU,IAAI,WAAW,EAChC,MACD,CACDb,EAAUgB,CAAW,EAClB,KAAKX,GAAO,CACPA,EAAI,KAAK,SAAW,GACtBY,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,EAEHL,EAAY,UAAYN,EAAaD,EAAI,IAAI,EAC7CI,EAAS,QAAO,CACtB,CAAK,EACA,MAAMS,GACLD,EAAS,MAAM,CACb,SAAU,UACV,QAAS,2BACjB,CAAO,CACF,EACA,QAAQ,IAAMJ,EAAO,UAAU,IAAI,WAAW,CAAC,CACpD"}